{% load widget_tweaks %}

<form hx-post="{% url 'intern_create_activity' %}" 
      hx-target="#activity-list" 
      hx-swap="beforeend"      
      hx-on::after-request="this.remove()" 
      hx-trigger="click from:#submit-all"
      class="bg-white/10 dark:bg-gray-800/20 p-4 rounded-xl shadow-md mb-6 border border-primary/20">

    <div class="space-y-4">
        <!-- Activity Type -->
        <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
            <label class="form-label">
                <i class="fas fa-clipboard-list mr-2 text-blue-600 dark:text-blue-400"></i>
                <span class="text-gray-800 dark:text-gray-200">{{ form.activity_type.label }}</span>
            </label>
            <div class="relative mt-2">
                {{ form.activity_type|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-clipboard-list text-gray-400"></i>
                </div>
            </div>
        </div>

        <!-- Leadership Position -->
        <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
            <label class="form-label">
                <i class="fas fa-user-tie mr-2 text-blue-600 dark:text-blue-400"></i>
                <span class="text-gray-800 dark:text-gray-200">Position/Leadership Description</span>
            </label>
            <div class="relative mt-2">
                {{ form.leadership_position|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-user-tie text-gray-400"></i>
                </div>
            </div>
        </div>

        <!-- Organization Name -->
        <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
            <label class="form-label">
                <i class="fas fa-building mr-2 text-blue-600 dark:text-blue-400"></i>
                <span class="text-gray-800 dark:text-gray-200">{{ form.organization_name.label }}</span>
            </label>
            <div class="relative mt-2">
                {{ form.organization_name|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-building text-gray-400"></i>
                </div>
            </div>
        </div>

        <!-- Time Commitment -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Weeks per Year -->
            <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
                <label class="form-label">
                    <i class="fas fa-clock mr-2 text-blue-600 dark:text-blue-400"></i>
                    <span class="text-gray-800 dark:text-gray-200">Weeks per year</span>
                </label>
                <div class="relative mt-2">
                    {{ form.weeksperyear|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-clock text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- Hours per Week -->
            <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
                <label class="form-label">
                    <i class="fas fa-clock mr-2 text-blue-600 dark:text-blue-400"></i>
                    <span class="text-gray-800 dark:text-gray-200">Hours per week</span>
                </label>
                <div class="relative mt-2">
                    {{ form.hoursperweek|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-clock text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Time Period -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Start Year -->
            <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
                <label class="form-label">
                    <i class="fas fa-calendar-alt mr-2 text-blue-600 dark:text-blue-400"></i>
                    <span class="text-gray-800 dark:text-gray-200">{{ form.start_year.label }}</span>
                </label>
                <div class="relative mt-2">
                    {{ form.start_year|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-calendar-alt text-gray-400"></i>
                    </div>
                </div>
            </div>

            <!-- End Year -->
            <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
                <label class="form-label">
                    <i class="fas fa-calendar-check mr-2 text-blue-600 dark:text-blue-400"></i>
                    <span class="text-gray-800 dark:text-gray-200">{{ form.end_year.label }}</span>
                </label>
                <div class="relative mt-2">
                    {{ form.end_year|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-calendar-check text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Outside School Checkbox -->
        <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
            <label class="flex items-center space-x-3">
                {{ form.outside_school|add_class:"form-checkbox h-5 w-5 text-primary-500 rounded focus:ring-primary-500" }}
                <span class="text-gray-800 dark:text-gray-200">I did this activity outside school</span>
            </label>
            {% if form.outside_school.errors %}
            <div class="text-red-400 mt-2">{{ form.outside_school.errors }}</div>
            {% endif %}
        </div>

        <!-- Activity Description -->
        <div class="bg-white/80 dark:bg-gray-800/10 p-2 rounded-xl shadow-sm">
            <label class="form-label">
                <i class="fas fa-comment-dots mr-2 text-blue-600 dark:text-blue-400"></i>
                <span class="text-gray-800 dark:text-gray-200">{{ form.activity_description.label }} [30 words maximum]</span>
            </label>
            <div class="relative mt-2">
                {{ form.activity_description|add_class:"form-input pl-10 w-full rounded-lg px-4 py-3 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50" }}
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-comment-dots text-gray-400"></i>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-end gap-3 pt-4">
            <button type="button" 
                    class="px-4 py-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg transition-all flex items-center gap-2"
                    hx-on:click="this.closest('form').remove()">
                <i class="fas fa-times"></i> Cancel
            </button>
        </div>
    </div>
</form>