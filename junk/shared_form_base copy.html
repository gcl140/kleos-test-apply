{% extends 'applications/base.html' %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/form_shared.css' %}">
{% block form_specific_css %}{% endblock %}
{% endblock %}

{% block content %}
<div class="content-wrapper">
    <div class="form-section">
        <!-- Progress Bar -->
        <div class="form-progress">
            <div class="progress-bar">
                <div class="progress-steps">
                    <a href="{% url 'intro_view' %}" class="progress-step {% if progress_data.intro.completed %}completed{% endif %} {% if current_section == 'intro' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Intro</span>
                    </a>
                    <a href="{% url 'general_info_view' %}" class="progress-step {% if progress_data.general_info.completed %}completed{% endif %} {% if current_section == 'general_info' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">About You</span>
                    </a>
                    <a href="{% url 'contact_info_view' %}" class="progress-step {% if progress_data.contact_info.completed %}completed{% endif %} {% if current_section == 'contact_info' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Contacts</span>
                    </a>
                    <a href="{% url 'school_info_view' %}" class="progress-step {% if progress_data.school_info.completed %}completed{% endif %} {% if current_section == 'school_info' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">School Info</span>
                    </a>
                    <a href="{% url 'parent_info_view' %}" class="progress-step {% if progress_data.family_info.completed %}completed{% endif %} {% if current_section == 'family_info' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Family Info</span>
                    </a>
                    <a href="{% url 'addsiblings' %}" class="progress-step {% if progress_data.siblings.completed %}completed{% endif %} {% if current_section == 'siblings' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Siblings</span>
                    </a>
                    <a href="{% url 'adddependents' %}" class="progress-step {% if progress_data.dependents.completed %}completed{% endif %} {% if current_section == 'dependents' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Dependents</span>
                    </a>
                    <a href="{% url 'financial_info_view' %}" class="progress-step {% if progress_data.financial_info.completed %}completed{% endif %} {% if current_section == 'financial_info' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Financial Info</span>
                    </a>
                    <a href="{% url 'addactivities' %}" class="progress-step {% if progress_data.activities.completed %}completed{% endif %} {% if current_section == 'activities' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Activities</span>
                    </a>
                    <a href="{% url 'adddistinctions' %}" class="progress-step {% if progress_data.distinctions.completed %}completed{% endif %} {% if current_section == 'distinctions' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Distinctions</span>
                    </a>
                    <a href="{% url 'additional_info_view' %}" class="progress-step {% if progress_data.other_inquiries.completed %}completed{% endif %} {% if current_section == 'other_inquiries' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Other Inquiries</span>
                    </a>
                    <a href="{% url 'writing_section_view' %}" class="progress-step {% if progress_data.writing.completed %}completed{% endif %} {% if current_section == 'writing' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Writing</span>
                    </a>
                    <a href="{% url 'files_signature' %}" class="progress-step {% if progress_data.files_signature.completed %}completed{% endif %} {% if current_section == 'files_signature' %}active{% endif %}">
                        <span class="step-dot"></span>
                        <span class="step-label">Uploads</span>
                    </a>
                </div>
            </div>
        </div>

        {% block form_content %}{% endblock %}
    </div>

    <div class="info-section">
        <h2>{% block info_title %}{% endblock %}</h2>
        <p>{% block info_description %}{% endblock %}</p>
        
        <div class="hints">
            <h3>Helpful Tips</h3>
            <ul>
                {% block info_hints %}{% endblock %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}{% endblock %}
