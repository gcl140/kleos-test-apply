{% extends 'application_cohort/shared_form_base.html' %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% load static %}

{% block title %}Contact Information{% endblock %}

{% block info_title %}Contact Information{% endblock %}

{% block info_description %}
    <p>
        Please provide your current contact information so we can stay in touch with you throughout the application process.
        Accurate and up-to-date information ensures you don't miss any important updates.
    </p>
    <p>
        <strong>Note:</strong> Fields marked with an asterisk (<span class="required">*</span>) are mandatory.
    </p>
{% endblock %}

{% block info_hints %}
    <ul>
        <li>
            <strong>Email Address:</strong> Provide an active email address that you check regularly. This will be used for all official communication.
        </li>
        <li>
            <strong>Secondary Email Address:</strong> Optional, but recommended as a backup in case we can't reach you on your primary email.
        </li>
        <li>
            <strong>Primary Phone Number:</strong> Provide a phone number where we can reach you directly. Include the country code if applicable.
        </li>
        <li>
            <strong>Secondary Phone Number:</strong> Optional, but useful as a backup contact number.
        </li>
        <li>
            <strong>Home Address:</strong> Provide your current residential address. This helps us verify your location and send any physical correspondence if needed.
        </li>
        <li>
            <strong>Double-Check:</strong> Review all entries for accuracy before proceeding to the next section.
        </li>
    </ul>
{% endblock %}

{% block form_content %}
<style>
    .required{
        color: rgb(255, 144, 144) !important;
    }
</style>
<form method="POST" class="form-container">
    {% csrf_token %}
    
    <!-- Contact Information -->
    <h2 class="text-center text-secondary my-4" style="margin: auto; color: white;">
        Contact Information
    </h2>
    <br>
    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-envelope"></i> Primary Email Address<span class="required">*</span>
        </label>
        {{ form.email1|add_class:"form-control"|attr:"required"|attr:"type:email"|attr:"placeholder:Enter your email address" }}
        {% if form.email1.errors %}
            <small class="error-text"><i class="fas fa-exclamation-circle"></i> {{ form.email1.errors }}</small>
        {% endif %}
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-envelope-open"></i> Secondary Email Address 
        </label>
        {{ form.email2|add_class:"form-control"|attr:"type:email"|attr:"placeholder:Enter your secondary email address" }}
        {% if form.email2.errors %}
            <small class="error-text"><i class="fas fa-exclamation-circle"></i> {{ form.email2.errors }}</small>
        {% endif %}
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-phone"></i> Primary Phone Number<span class="required">*</span>
        </label>
        {{ form.tel1|add_class:"form-control"|attr:"required"|attr:"type:tel"|attr:"placeholder:Enter your primary phone number" }}
        {% if form.tel1.errors %}
            <small class="error-text"><i class="fas fa-exclamation-circle"></i> {{ form.tel1.errors }}</small>
        {% endif %}
    </div>

    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-phone-alt"></i> Secondary Phone Number 
        </label>
        {{ form.tel2|add_class:"form-control"|attr:"type:tel"|attr:"placeholder:Enter your secondary phone number" }}
        {% if form.tel2.errors %}
            <small class="error-text"><i class="fas fa-exclamation-circle"></i> {{ form.tel2.errors }}</small>
        {% endif %}
    </div>

    <!-- Address Information -->
    <div class="form-group">
        <label class="form-label">
            <i class="fas fa-home"></i> Home Address<span class="required">*</span>
        </label>
        {{ form.residency|add_class:"form-control"|attr:"required"|attr:"placeholder:Enter your home address" }}
        {% if form.residency.errors %}
            <small class="error-text"><i class="fas fa-exclamation-circle"></i> {{ form.residency.errors }}</small>
        {% endif %}
    </div>

    <!-- Navigation Buttons -->
    <div class="button-group">
        <a href="{{ previous_url }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back
        </a>
        <button type="submit" class="btn btn-primary">
            Save & Continue <i class="fas fa-arrow-right"></i>
        </button>
    </div>
</form>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/contact_info.js' %}"></script>
{% endblock %}